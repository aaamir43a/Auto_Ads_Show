<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Auto Ads Show</title>
  <!-- ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶´‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #1f1c2c, #928dab);
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      padding: 15px 0;
    }
    .container {
      text-align: center;
      background: linear-gradient(to right, #232526, #414345);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
      width: 320px;
    }
    .container h1 {
      font-size: 24px;
      background: linear-gradient(to right, #00c6ff, #0072ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 15px;
    }
    .developer {
      font-size: 13px;
      background: linear-gradient(45deg, #11998e, #38ef7d);
      padding: 6px 12px;
      border-radius: 8px;
      margin-bottom: 20px;
      display: inline-block;
      color: #fff;
      font-weight: bold;
      box-shadow: 0 3px 0 #0e6b5f;
      cursor: pointer;
    }
    .developer:hover {
      opacity: 0.9;
    }
    .stats p, .user-info p {
      font-size: 15px;
      margin: 6px 0;
    }
    .progress-container {
        position: relative;
        width: 100px;
        height: 100px;
        margin: 12px auto;
    }
    .progress-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
    }
    .progress-circle-track {
        fill: none;
        stroke-width: 8;
        stroke: #ff9800;
        opacity: 0.3;
    }
    #green-progress {
        fill: none;
        stroke-width: 8;
        stroke: #00ff00;
        stroke-linecap: round;
        transition: stroke-dashoffset 0.5s ease;
    }
    .progress-text-container {
        position: absolute;
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }
    #ads-progress {
        font-size: 18px;
        font-weight: bold;
        color: #ffeb3b;
    }
    .buttons button {
      width: 90%;
      margin: 8px 0;
      padding: 12px;
      font-size: 15px;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      color: white;
      box-shadow: 0 5px 0 #0e4c7d;
      transition: all 0.2s ease;
      cursor: pointer;
    }
    .buttons button:hover {
      transform: translateY(-2px);
      box-shadow: 0 7px 0 #d17d00;
    }
    .buttons button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: translateY(0);
      box-shadow: 0 5px 0 #0e4c7d;
    }
    #auto-ad-btn, #manual-ad-btn {
       background: linear-gradient(to bottom, #43cea2, #185a9d);
    }
     #auto-ad-btn:hover:not(:disabled), #manual-ad-btn:hover:not(:disabled) {
       background: linear-gradient(to bottom, #50dfb3, #1e6fc8);
    }
    #auto-adsterra-btn {
        background: linear-gradient(to bottom, #8E2DE2, #4A00E0);
        box-shadow: 0 5px 0 #3c00b3;
    }
    #auto-adsterra-btn:hover:not(:disabled) {
        background: linear-gradient(to bottom, #9d4edd, #5a18ed);
        box-shadow: 0 7px 0 #3c00b3;
    }
     #stop-all-auto-btn {
        background: linear-gradient(to bottom, #e52d27, #b31217);
        box-shadow: 0 5px 0 #8f0e12;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Auto Ads Show Bot</h1>
    <div class="developer" onclick="window.location.href='https://t.me/amir47812'">
      Developer by Amir Hossain
    </div>
    <div class="user-info">
      <p>Welcome, <span id="user-name"></span></p>
    </div>
    <div class="stats">
        <p>Watched Ads: <span id="watched-ads">0</span></p>
    </div>
    <div class="progress-container">
        <svg class="progress-svg" viewBox="0 0 100 100">
            <circle class="progress-circle-track" cx="50" cy="50" r="45"></circle>
            <circle id="green-progress" cx="50" cy="50" r="45"></circle>
        </svg>
        <div class="progress-text-container">
            <span id="ads-progress">0%</span>
        </div>
    </div>
    <div class="buttons">
      <button id="manual-ad-btn" onclick="watchAd()">üé¨ Watch Ad (Monetag)</button>
      <button id="auto-ad-btn" onclick="startAutoAds()">‚öôÔ∏è Auto Ads (Monetag)</button>
      <button id="auto-adsterra-btn" onclick="startAdsterraAutoAds()">‚öôÔ∏è Auto Ads (Adsterra)</button>
      
      <!-- ‡¶è‡¶ï‡¶ü‡¶ø‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ Stop ‡¶¨‡¶æ‡¶ü‡¶® -->
      <button id="stop-all-auto-btn" onclick="stopAllAutoAds()" disabled>‚õî Stop Auto Ads</button>
    </div>
  </div>
  
  <!-- Adsterra ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ñ‡¶æ‡¶≤‡¶ø ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ -->
  <div id="adsterra-container" style="margin-top:15px;"></div>

  <!-- Monetag Ad SDK -->
  <script src='//libtl.com/sdk.js' data-zone='9661397' data-sdk='show_9661397'></script>

  <script>
    // --- ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶≠‡ßá‡¶∞‡¶ø‡ßü‡ßá‡¶¨‡¶≤ ---
    let watchedAdsCount = 0;
    let isAutoAdsRunning = false;
    let autoAdTimeout;
    let isAdsterraAutoRunning = false;
    let adsterraTimeout;

    // --- ‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶¶‡ßà‡¶®‡¶ø‡¶ï ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü ‡¶≤‡¶ú‡¶ø‡¶ï ---
    function setUserName() {
        const userNameSpan = document.getElementById("user-name");
        try {
            const tg = window.Telegram.WebApp;
            const user = tg.initDataUnsafe.user;
            userNameSpan.textContent = user && user.first_name ? `${user.first_name} ${user.last_name || ''}`.trim() : "Guest";
        } catch (error) {
            userNameSpan.textContent = "@exampleUser";
        }
    }

    function checkAndResetCounter() {
        const todayUTC = new Date().toISOString().slice(0, 10);
        const lastVisitUTC = localStorage.getItem('lastAdDate');
        if (lastVisitUTC !== todayUTC) {
            watchedAdsCount = 0;
            localStorage.setItem('watchedAdsCount', '0');
            localStorage.setItem('lastAdDate', todayUTC);
        } else {
            watchedAdsCount = parseInt(localStorage.getItem('watchedAdsCount')) || 0;
        }
    }
    
    // --- ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ---

    /**
     * Monetag ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡•§
     */
    function watchAd() {
      return new Promise((resolve, reject) => {
        if (typeof show_9661397 === 'function') {
          show_9661397().then(() => {
            updateAdCount();
            resolve();
          }).catch(reject);
        } else {
          reject("Monetag ad function not available");
        }
      });
    }

    /**
     * ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ Adsterra ‡¶ï‡ßã‡¶° ‡¶¶‡¶ø‡ßü‡ßá ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡•§
     */
    function watchAdsterraAd() {
        return new Promise((resolve, reject) => {
            const container = document.getElementById('adsterra-container');
            if (!container) return reject("Adsterra container not found");
            
            // ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶¨‡¶æ‡¶∞ ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®‡ßã‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶™‡ßÅ‡¶∞‡¶®‡ßã‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡ßü
            container.innerHTML = '';

            const adScript = document.createElement('script');
            adScript.type = 'text/javascript';
            // ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ Adsterra ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶∏‡ßã‡¶∞‡ßç‡¶∏
            adScript.src = '//pl27353569.profitableratecpm.com/30/a0/6f/30a06f39b2ceafcedada24e44908d884.js';
            
            adScript.onload = () => {
                // ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡ßã‡¶°‡¶ø‡¶Ç ‡¶á‡¶≠‡ßá‡¶®‡ßç‡¶ü ‡¶®‡ßá‡¶á, ‡¶§‡¶æ‡¶á ‡¶∏‡ßç‡¶ï‡ßç‡¶∞‡¶ø‡¶™‡ßç‡¶ü ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶™‡¶∞‡ßá‡¶á ‡¶ó‡¶£‡¶®‡¶æ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá
                updateAdCount();
                resolve();
            };
            adScript.onerror = () => reject("Adsterra script failed to load");

            container.appendChild(adScript);
        });
    }

    /**
     * ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶ó‡¶£‡¶®‡¶æ ‡¶è‡¶¨‡¶Ç UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∏‡¶Æ‡¶®‡ßç‡¶¨‡¶ø‡¶§ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡•§
     */
    function updateAdCount() {
        checkAndResetCounter();
        watchedAdsCount++;
        localStorage.setItem('watchedAdsCount', watchedAdsCount);
        localStorage.setItem('lastAdDate', new Date().toISOString().slice(0, 10));
        updateUI();
    }

    // --- UI ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ---
    function updateUI() {
        document.getElementById('watched-ads').textContent = watchedAdsCount;
        updateProgressCircle();
    }

    function updateProgressCircle() {
        const textPercent = Math.floor(watchedAdsCount / 10);
        document.getElementById('ads-progress').textContent = `${textPercent}%`;

        const greenProgressElement = document.getElementById('green-progress');
        const radius = greenProgressElement.r.baseVal.value;
        const circumference = 2 * Math.PI * radius;
        const progress = Math.min(watchedAdsCount / 1000, 1);
        const offset = circumference * (1 - progress);
        greenProgressElement.style.strokeDasharray = circumference;
        greenProgressElement.style.strokeDashoffset = offset;
    }

    // --- ‡¶∏‡ßç‡¶¨‡ßü‡¶Ç‡¶ï‡ßç‡¶∞‡¶ø‡ßü ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶≤‡ßÅ‡¶™ ---

    function autoAdLoop() {
        if (!isAutoAdsRunning) return;
        watchAd().finally(() => {
            if (isAutoAdsRunning) autoAdTimeout = setTimeout(autoAdLoop, 2000);
        });
    }
    
    function autoAdsterraLoop() {
        if (!isAdsterraAutoRunning) return;
        watchAdsterraAd().finally(() => {
            // Adsterra ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® ‡¶™‡ßÅ‡¶®‡¶∞‡¶æ‡ßü ‡¶≤‡ßã‡¶° ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡ßá‡¶∂‡¶ø ‡¶∏‡¶Æ‡ßü ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶≤‡ßã
            if (isAdsterraAutoRunning) adsterraTimeout = setTimeout(autoAdsterraLoop, 5000);
        });
    }

    // --- Start ‡¶è‡¶¨‡¶Ç Stop ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ---

    function startAutoAds() {
        if (isAutoAdsRunning || isAdsterraAutoRunning) return;
        isAutoAdsRunning = true;
        setButtonsState(true); // ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
        autoAdLoop();
    }

    function startAdsterraAutoAds() {
        if (isAutoAdsRunning || isAdsterraAutoRunning) return;
        isAdsterraAutoRunning = true;
        setButtonsState(true); // ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
        autoAdsterraLoop();
    }

    // ‡¶è‡¶ï‡¶ü‡¶ø‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ Stop ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
    function stopAllAutoAds() {
        isAutoAdsRunning = false;
        isAdsterraAutoRunning = false;
        clearTimeout(autoAdTimeout);
        clearTimeout(adsterraTimeout);
        setButtonsState(false); // ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶∏‡ßç‡¶¨‡¶æ‡¶≠‡¶æ‡¶¨‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ
    }
    
    /**
     * ‡¶¨‡¶æ‡¶ü‡¶®‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶Ö‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶π‡ßá‡¶≤‡ßç‡¶™‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡•§
     * @param {boolean} isRunning - ‡¶Ö‡¶ü‡ßã ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶° ‡¶ö‡¶≤‡¶õ‡ßá ‡¶ï‡¶ø ‡¶®‡¶æ‡•§
     */
    function setButtonsState(isRunning) {
        document.getElementById('auto-ad-btn').disabled = isRunning;
        document.getElementById('auto-adsterra-btn').disabled = isRunning;
        document.getElementById('stop-all-auto-btn').disabled = !isRunning;
    }

    // --- ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™ ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶≤‡ßá ‡¶Ø‡ßá ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®‡¶ó‡ßÅ‡¶≤‡ßã ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶ö‡¶æ‡¶≤‡¶æ‡¶®‡ßã ‡¶π‡¶¨‡ßá ---
    document.addEventListener('DOMContentLoaded', () => {
        setUserName();
        checkAndResetCounter();
        updateUI();
    });
  </script>
</body>
</html>
